<!DOCTYPE HTML>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head> 
    <title>Your Details</title> 
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">    <link rel="stylesheet" th:href="@{/DefaultStyle.css}">
</head>
<body class="bg-greenish">
    <th:block th:switch="${loginStatus}">
        <th:block th:case="'out'">
            <div th:replace="~{fragments/navbarfragment :: navbarOut}"></div>
        </th:block>
        <th:block th:case="'in'">
            <div th:replace="~{fragments/navbarfragment :: navbarIn}"></div>
        </th:block>
    </th:block>
    <div id="detailsDisplay">
        <h2>My Details</h2>
        <label for="email">My Email Address:</label>
        <div id="email" th:text="|${email}|"></div>
        <label for="firstNameDisplay">My First Name(s):</label>
        <div name="firstNameDisplay" id = "firstNameDisplay" th:text="|${firstName}|"></div>
        <label for="lastNameDisplay">My Last Name:</label>
        <div name="lastNameDisplay" id="lastNameDisplay" th:text="|${lastName}|"></div>
        <label for="displayNameDisplay">My Display Name</label>
        <div name="displayNameDisplay" id="displayNameDisplay" th:text="|${displayName}|"></div>
    </div>
    <form class="d-none" action="/updateDetails" method="post" id="updateDetailsForm">
        <h2>My Details</h2>
        <label for="emailForm">My Email Address:</label>
        <div id="emailForm" th:text="|${email}|"></div>
        <label for="firstNameForm">My First Name(s):</label><br>
        <input required name="firstNameForm" id = "firstNameForm" th:value="|${firstName}|"></input><br>
        <label for="lastNameForm">My Last Name:</label><br>
        <input required name="lastNameForm" id="lastNameForm" th:value="|${lastName}|"></input><br>
        <label for="displayNameForm">My Display Name</label><br>    
        <input required name="displayNameForm" id="displayNameForm" th:value="|${displayName}|"></input><br>
        <button type="submit" id="updateDetailsFormButton">Update Details</button>
    </form>
    <button id="editDetailsButton" onclick="activatePersonalDetailsForm()">Edit My Details</button>
</body>
<script>
    function activatePersonalDetailsForm(){
        document.getElementById('detailsDisplay').classList.add('d-none');
        document.getElementById('editDetailsButton').classList.add('d-none');
        document.getElementById('updateDetailsForm').classList.remove('d-none');
    }

</script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
</html>